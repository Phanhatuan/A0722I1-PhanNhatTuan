<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h3>Add New Product</h3>
<table style="background-color: lightgray" cellpadding="10">
    <tr>
        <td>
            <input type="text" name="q" placeholder="New Product" id="product">
            <input type="button" onclick="getDataByTable()" value="Add" style="background-color: limegreen ">
        </td>
    </tr>
</table>
<h3>Display All Product</h3>
<table>
    <tr>
        <th>Product Name</th>
        <th id="total" style="width: 400px; text-align: right" ></th>
    </tr>
</table>
<p id="demo"></p>
<script>
    let listName = [];
    let x = 0;
    let val = document.getElementById("product");
    function getDataByTable() {
        const data = val.value;
        setDataByTable(data);
        displayByTable();
        x++;
        val.value = ""
    }

    /*-------------------------------------------*/
    function setDataByTable(val) {
        let stringTable = '<table>';
        stringTable += '<tr>';

        for (let i = x; i < x + 1; i++) {
            stringTable += '<tr>';
            for (let j = 0; j < 1; j++) {
                stringTable += '<td style="width: 300px">' + val + '</td>' +
                    '<td>' + '<input type="button" name="q" onclick="Edit(' + i + ')" value="Edit" style="background-color: limegreen">' +
                    '</td>' + '<td style="width: 40px">' + '</td>' +
                    '<td>' + '<input type="button" name="q" onclick="Delete(' + i + ')" value="Delete" style="background-color: limegreen">' +
                    '</td>' +
                    '<td>' + '</td>';
            }
            stringTable += '</tr>'
        }
        stringTable += '<table>';
        // Gán giá trị cho mảng.
        listName[x] = stringTable;
    }

    /*-------------------------------------------*/
    function displayByTable() {
        let result = document.getElementById("demo").innerHTML = "";
        for (let i = 0; i < listName.length; i++) {
            result += listName[i];
            document.getElementById("demo").innerHTML = result;
        }
        document.getElementById("total").innerHTML = listName.length + "products"
    }

    /*-------------------------------------------*/
    function Edit(val) {
        let edit = prompt("Input:")
        x = val;
        setDataByTable(edit);
        displayByTable();
    }

    /*-------------------------------------------*/
    function Delete(val) {
        for (let i = 0; i < listName.length; i++) {
            if (i === val) {
                for (i; i < listName.length; i++) {
                    listName[i] = listName[i + 1];
                }
            }
        }
        listName.length--;
        x--;
        document.getElementById("total").innerHTML = listName.length + "products";
        displayByTable();
    }
</script>
</body>
</html>